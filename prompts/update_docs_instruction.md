# ドキュメント更新運用ガイド

学んだ内容を迷わず積み上げるための軽いルール集です。完璧さより「素早く記録」を優先します。

## 1. ファイル命名規則

- 1 日 1 ファイル: `YYYY-MM-DD_learning_log.md`
- 分割したいとき: `_part2` を足すだけ

## 2. 追加すべき節テンプレート

````
## YYYY-MM-DD
### トピック名
- 要約 (1〜3行)
- 重要ポイント 箇条書き (最大5)
```rust
// 必要なら最小サンプル (冗長にしない)
````

- 用語メモ (任意)
- 次アクション / 疑問

```

## 3. 代表フォーマット例
```

### serde rename

- フィールド名と JSON キーの差を埋める。
- 送受信とも JSON は rename 後のキー。

```rust
#[derive(Serialize, Deserialize)]
struct Message { #[serde(rename = "role")] kind: String }
```

- よく一緒に出る: `#[serde(default)]`, `Option<T>`。

```

## 4. チェックリスト更新
学習ログ末尾に進行チェックを置く:
```

### チェックポイント状況

- [x] Stage1 Step1 初回リクエスト
- [x] Stage1 Step2 tool_calls 判定
- [ ] Stage1 Step3 引数パース
- [ ] Stage1 Step4 2 回目呼び出し

```
完了で `[x]`。新ステージで行追加。

## 5. 変更手順フロー
1. 新しい知識を得たら当日ファイルを開く
2. 節が無ければテンプレで追加
3. 5 分以内に要点を書く (長文を避ける)
4. サンプルは最小 (20 行以下目安)
5. チェックリスト更新
6. 例: `docs: add note about serde rename`

## 6. カテゴリ推奨タグ
必要なら文頭に: `[Rust]` `[OpenAI]` `[Serde]` `[Concept]` など。

## 7. 禁止事項
- 未検証コードの大量貼り付け
- 既存説明の丸コピ重複
- 未整理保存 (途中は `WIP:` を付ける)

## 8. リンク
- Stage1: `docs/function_calling/stage1.md`
- 新ステージ追加時にここも更新

## 9. 今後の自動化アイデア (任意)
- pre-commit: 空行連続検出
- タグ未記入警告

## 10. Q&A ログ運用
繰り返し出そうな疑問を `docs/learning/qna_log.md` に集約。

### 目的
- 同じ質問を減らす
- grep / 全文検索にヒットしやすく

### 追加タイミング (改訂)
- 原則: 技術的な質問は全て即記録
- 例外: 挨拶 / 単なる確認 / タイポ訂正 → 省略可 (理由を学習ログに一言)

### テンプレート
```

### 質問: <短いタイトル>

日付: YYYY-MM-DD
カテゴリ: [Rust] / [Serde] / [OpenAI] / [Tooling] など
Q: （元の質問本文 簡潔に）
A: （要約回答 3〜6 行）
コード例:

```rust
// 必要なら最小コード
```

関連用語: Option, Some, is_empty
再発防止メモ: （学びの視点 1〜2 行）

---

```

### 命名規則
- 見出しは `### 質問:` で統一
- 新しいものを末尾に追加

### 避けること
- 会話全文そのまま貼る
- 重複追加 (差分なら既存更新)

### 更新手順 (改訂)
1. 回答直後に qna_log.md を開く
2. grep で重複確認
3. 既存なら更新 / 無ければ末尾追加
4. 学習ログに `Q&A 追記: <短いタイトル>` を 1 行書く
5. 例: `docs: qna add impl basics`


改善案はいつでも歓迎です。
```
