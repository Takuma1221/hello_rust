# ドキュメント更新運用ガイド

このリポジトリでは学習進捗・知識を `docs/learning/` 配下の Markdown に随時追記します。以下ルールに従って更新してください。

## 1. ファイル命名規則

- 日付単位: `YYYY-MM-DD_learning_log.md`
- 1 日で複数セッションを分けたい場合は: `YYYY-MM-DD_learning_log_part2.md` などで追加。

## 2. 追加すべき節テンプレート

````
## YYYY-MM-DD
### トピック名
- 要約 (1〜3行)
- 重要ポイント 箇条書き (最大5)
```rust
// 代表的サンプルコード (必要なら)
````

- 用語リマインド
- 次アクション / 疑問

```

## 3. 代表フォーマット例
```

### serde rename

- フィールド名と JSON キー名の差異を吸収。
- 送受信でキーは rename 先が使われる。

```rust
#[derive(Serialize, Deserialize)]
struct Message { #[serde(rename = "role")] kind: String }
```

- よく合わせて使う: `#[serde(default)]`, `Option<T>`。

```

## 4. チェックリスト更新
学習ログ末尾に進行チェックボックスを維持:
```

### チェックポイント状況

- [x] Stage1 Step1 初回リクエスト
- [x] Stage1 Step2 tool_calls 判定
- [ ] Stage1 Step3 引数パース
- [ ] Stage1 Step4 2 回目呼び出し

```
完了したら `[x]` に変更。新ステージが始まったら行を追加。

## 5. 変更手順フロー
1. 新しい知識を得たら当日ファイルを開く
2. 該当トピック節が無ければ追加
3. 5分以内に簡潔にサマリ記述 (長文より要点重視)
4. サンプルコードは最小限 (20行以下推奨)
5. チェックポイント更新
6. コミットメッセージ例: `docs: add note about serde rename`

## 6. カテゴリ推奨タグ
文頭にタグを付けても良い: `[Rust]`, `[OpenAI]`, `[Serde]`, `[CLI]`, `[Concept]`。

## 7. 禁止事項
- 大量の未検証コード貼り付け
- 同義反復説明 (既に上にある内容のコピペ)
- 未整理のまま保存 (下書きは `WIP:` プレフィックスを付与)

## 8. リンク
- Stage1 ドキュメント: `docs/function_calling/stage1.md`
- 次ステージ作成時はここにも追加リンク

## 9. 今後の自動化アイデア (任意)
- pre-commit で 80 文字以上の空白行連続を検出
- タグ未記入トピック警告

## 10. Q&A ログ運用
繰り返し出る質問や用語混乱を集約するため `docs/learning/qna_log.md` を管理。

### 目的
- 同じ質問を再度しなくて済むナレッジベース化
- 後から検索しやすい (grep/全文検索対策)

### 追加タイミング
- その質問が *初出* かつ今後再参照しそう
- 回答に概念整理 / コード例 / 比較表が含まれる

### テンプレート
```

### 質問: <短いタイトル>

日付: YYYY-MM-DD
カテゴリ: [Rust] / [Serde] / [OpenAI] / [Tooling] など
Q: （元の質問本文 簡潔に）
A: （要約回答 3〜6 行）
コード例:

```rust
// 必要なら最小コード
```

関連用語: Option, Some, is_empty
再発防止メモ: （学習の視点 1〜2 行）

---

```

### 命名規則
- 見出しは `### 質問:` プレフィックスで統一
- ファイル内で日付順 (新しいものを下に追加)

### 避けること
- 一字一句そのままの長い会話ログ貼り付け
- 重複質問の再追加 (差分があるなら既存節を更新)

### 更新手順
1. 追加する質問が既存か grep で検索
2. 無ければテンプレで最後尾に追加
3. 学習ログ(日付ファイル)に "Q&A ログへ転記" の短いメモを追記
4. コミットメッセージ例: `docs: add Q&A entry about Option vs is_empty`


このファイルは随時改善可。改善提案があれば PR や Issue として残してください。

---

## 11. 応答トーンガイド参照

アシスタントの返答スタイルは `prompts/response_tone_guide.md` を常に参照して統一します。トーン変更要望があれば同ガイドを更新し、更新後は学習ログに「トーンガイド改訂」を 1 行メモしてください。
\n## 12. Git コミット / プッシュ運用ポリシー\n\n変更が「一言で表現できる」単位になったら即コミット & プッシュ。詳細は `prompts/commit_push_policy.md` を参照。アシスタントはポリシー基準 (型追加 / 30行超 / 新規 docs 等) を満たすたびに自動で push し、応答内でコミット要約を報告します。\n*** End Patch
```
